#!/bin/bash
source /etc/environment
source /etc/profile

#L428 - Replicate 1
ChIP-Seq_pipeline.PE Chip-Tasselli L428 L428-Rep1-NT-INPUT /opt/ngs/results_tiacci 12 /opt/genome/human/hg19/index/bowtie2/hg19 /opt/genome/control/phix174/bwa/phiX174.fa /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R1_NT_INPUT/Clean_L428_R1_NT_INPUT_1.fq.gz /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R1_NT_INPUT/Clean_L428_R1_NT_INPUT_2.fq.gz
ChIP-Seq_pipeline.PE Chip-Tasselli L428 L428-Rep1-NT-STAT6 /opt/ngs/results_tiacci 12 /opt/genome/human/hg19/index/bowtie2/hg19 /opt/genome/control/phix174/bwa/phiX174.fa /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R1_NT_STAT6/Clean_L428_R1_NT_STAT6_1.fq.gz /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R1_NT_STAT6/Clean_L428_R1_NT_STAT6_2.fq.gz
ChIP-Seq_pipeline.PE Chip-Tasselli L428 L428-Rep1-NT-pSTAT6 /opt/ngs/results_tiacci 12 /opt/genome/human/hg19/index/bowtie2/hg19 /opt/genome/control/phix174/bwa/phiX174.fa /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R1_NT_pSTAT6/Clean_L428_R1_NT_pSTAT6_1.fq.gz /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R1_NT_pSTAT6/Clean_L428_R1_NT_pSTAT6_2.fq.gz
ChIP-Seq_pipeline.PE Chip-Tasselli L428 L428-Rep1-KO-INPUT /opt/ngs/results_tiacci 12 /opt/genome/human/hg19/index/bowtie2/hg19 /opt/genome/control/phix174/bwa/phiX174.fa /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R1_KO_INPUT/Clean_L428_R1_KO_INPUT_1.fq.gz /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R1_KO_INPUT/Clean_L428_R1_KO_INPUT_2.fq.gz
ChIP-Seq_pipeline.PE Chip-Tasselli L428 L428-Rep1-KO-STAT6 /opt/ngs/results_tiacci 12 /opt/genome/human/hg19/index/bowtie2/hg19 /opt/genome/control/phix174/bwa/phiX174.fa /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R1_KO_STAT6/Clean_L428_R1_KO_STAT6_1.fq.gz /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R1_KO_STAT6/Clean_L428_R1_KO_STAT6_2.fq.gz
ChIP-Seq_pipeline.PE Chip-Tasselli L428 L428-Rep1-KO-pSTAT6 /opt/ngs/results_tiacci 12 /opt/genome/human/hg19/index/bowtie2/hg19 /opt/genome/control/phix174/bwa/phiX174.fa /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R1_KO_pSTAT6/Clean_L428_R1_KO_pSTAT6_1.fq.gz /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R1_KO_pSTAT6/Clean_L428_R1_KO_pSTAT6_2.fq.gz

#L428 - Replicate 2
ChIP-Seq_pipeline.PE Chip-Tasselli L428 L428-Rep2-NT-INPUT /opt/ngs/results_tiacci 12 /opt/genome/human/hg19/index/bowtie2/hg19 /opt/genome/control/phix174/bwa/phiX174.fa /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R2_NT_INPUT/Clean_L428_R2_NT_INPUT_1.fq.gz /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R2_NT_INPUT/Clean_L428_R2_NT_INPUT_2.fq.gz
ChIP-Seq_pipeline.PE Chip-Tasselli L428 L428-Rep2-NT-STAT6 /opt/ngs/results_tiacci 12 /opt/genome/human/hg19/index/bowtie2/hg19 /opt/genome/control/phix174/bwa/phiX174.fa /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R2_NT_STAT6/Clean_L428_R2_NT_STAT6_1.fq.gz /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R2_NT_STAT6/Clean_L428_R2_NT_STAT6_2.fq.gz
ChIP-Seq_pipeline.PE Chip-Tasselli L428 L428-Rep2-NT-pSTAT6 /opt/ngs/results_tiacci 12 /opt/genome/human/hg19/index/bowtie2/hg19 /opt/genome/control/phix174/bwa/phiX174.fa /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R2_NT_pSTAT6/Clean_L428_R2_NT_pSTAT6_1.fq.gz /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R2_NT_pSTAT6/Clean_L428_R2_NT_pSTAT6_2.fq.gz
ChIP-Seq_pipeline.PE Chip-Tasselli L428 L428-Rep2-KO-INPUT /opt/ngs/results_tiacci 12 /opt/genome/human/hg19/index/bowtie2/hg19 /opt/genome/control/phix174/bwa/phiX174.fa /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R2_KO_INPUT/Clean_L428_R2_KO_INPUT_1.fq.gz /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R2_KO_INPUT/Clean_L428_R2_KO_INPUT_2.fq.gz
ChIP-Seq_pipeline.PE Chip-Tasselli L428 L428-Rep2-KO-STAT6 /opt/ngs/results_tiacci 12 /opt/genome/human/hg19/index/bowtie2/hg19 /opt/genome/control/phix174/bwa/phiX174.fa /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R2_KO_STAT6/Clean_L428_R2_KO_STAT6_1.fq.gz /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R2_KO_STAT6/Clean_L428_R2_KO_STAT6_2.fq.gz
ChIP-Seq_pipeline.PE Chip-Tasselli L428 L428-Rep2-KO-pSTAT6 /opt/ngs/results_tiacci 12 /opt/genome/human/hg19/index/bowtie2/hg19 /opt/genome/control/phix174/bwa/phiX174.fa /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R2_KO_pSTAT6/Clean_L428_R2_KO_pSTAT6_1.fq.gz /mnt/Martelli_Collaborations/Tiacci/Chip-Tasselli-Amazon/F21FTSEUHT0938_HUMxofiC_8_30/Fq/L428_R2_KO_pSTAT6/Clean_L428_R2_KO_pSTAT6_2.fq.gz

# Diff Peaks
mkdir /opt/ngs/results_tiacci/Chip-Tasselli/L428/peaks/combinations
macs2 callpeak -B -g hs -t /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep1-NT-STAT6/Clean_L428_R1_NT_STAT6_1.sorted.filtered.bam /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep2-NT-STAT6/Clean_L428_R2_NT_STAT6_1.sorted.filtered.bam -c /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep1-NT-INPUT/Clean_L428_R1_NT_INPUT_1.sorted.filtered.bam /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep2-NT-INPUT/Clean_L428_R2_NT_INPUT_1.sorted.filtered.bam -f BAMPE -n NT-STAT6-INPUT --outdir /opt/ngs/results_tiacci/Chip-Tasselli/L428/peaks/combinations
macs2 callpeak -B -g hs -t /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep1-NT-pSTAT6/Clean_L428_R1_NT_pSTAT6_1.sorted.filtered.bam /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep2-NT-pSTAT6/Clean_L428_R2_NT_pSTAT6_1.sorted.filtered.bam -c /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep1-NT-INPUT/Clean_L428_R1_NT_INPUT_1.sorted.filtered.bam /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep2-NT-INPUT/Clean_L428_R2_NT_INPUT_1.sorted.filtered.bam -f BAMPE -n NT-pSTAT6-INPUT --outdir /opt/ngs/results_tiacci/Chip-Tasselli/L428/peaks/combinations
macs2 callpeak -B -g hs -t /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep1-KO-STAT6/Clean_L428_R1_KO_STAT6_1.sorted.filtered.bam /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep2-KO-STAT6/Clean_L428_R2_KO_STAT6_1.sorted.filtered.bam -c /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep1-KO-INPUT/Clean_L428_R1_KO_INPUT_1.sorted.filtered.bam /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep2-KO-INPUT/Clean_L428_R2_KO_INPUT_1.sorted.filtered.bam -f BAMPE -n KO-STAT6-INPUT --outdir /opt/ngs/results_tiacci/Chip-Tasselli/L428/peaks/combinations
macs2 callpeak -B -g hs -t /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep1-KO-pSTAT6/Clean_L428_R1_KO_pSTAT6_1.sorted.filtered.bam /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep2-KO-pSTAT6/Clean_L428_R2_KO_pSTAT6_1.sorted.filtered.bam -c /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep1-KO-INPUT/Clean_L428_R1_KO_INPUT_1.sorted.filtered.bam /opt/ngs/results_tiacci/Chip-Tasselli/L428/bam/L428-Rep2-KO-INPUT/Clean_L428_R2_KO_INPUT_1.sorted.filtered.bam -f BAMPE -n KO-pSTAT6-INPUT --outdir /opt/ngs/results_tiacci/Chip-Tasselli/L428/peaks/combinations

#macs2 bdgdiff --t1 treat.repAll_treat_pileup.bdg --t2 ctrl.repAll_treat_pileup.bdg --c1 treat.repAll_control_lambda.bdg --c2 ctrl.repAll_control_lambda.bdg -l 146 -d1 spikeIn_treat -d2 spikeIn_ctrl --o-prefix treat_vs_ctrl

